# ğŸš¨ ä»Šã™ããƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•

## ğŸ“‹ ç¾åœ¨ã®çŠ¶æ³

âœ… **å®Œäº†ã—ãŸä½œæ¥­**:
- Dockerfileä½œæˆï¼ˆVite + Reactç”¨ã®ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ï¼‰
- nginxè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆSPAå¯¾å¿œï¼‰
- fly.tomlè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã§æ­£å¸¸å‹•ä½œç¢ºèªæ¸ˆã¿ï¼‰
- GitHubãƒªãƒã‚¸ãƒˆãƒªã«å…¨ã¦ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿

âŒ **æœªå®Œäº†ã®ä½œæ¥­**:
- Fly.ioã¸ã®å®Ÿéš›ã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆèªè¨¼æƒ…å ±ãŒå¿…è¦ï¼‰

---

## ğŸ¯ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †ï¼ˆã‚³ãƒ”ãƒ¼&ãƒšãƒ¼ã‚¹ãƒˆç”¨ï¼‰

### å‰ææ¡ä»¶

1. Fly.ioã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã‚‹
2. Gemini API Keyã‚’æŒã£ã¦ã„ã‚‹ï¼ˆhttps://aistudio.google.com/ï¼‰
3. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã‘ã‚‹

---

### ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³ï¼ˆæ—¢ã«ã‚ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰

```bash
cd ~
git clone https://github.com/Meguroman1978/toefltest.git
cd toefltest
```

---

### ã‚¹ãƒ†ãƒƒãƒ— 2: æœ€æ–°ã®å¤‰æ›´ã‚’å–å¾—

```bash
git pull origin main
```

---

### ã‚¹ãƒ†ãƒƒãƒ— 3: Fly CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ—¢ã«ã‚ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰

**macOS/Linux**:
```bash
curl -L https://fly.io/install.sh | sh
```

**Windows (PowerShell)**:
```powershell
iwr https://fly.io/install.ps1 -useb | iex
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ— 4: Fly.ioã«ãƒ­ã‚°ã‚¤ãƒ³

```bash
flyctl auth login
```

ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã¾ã™ã€‚Fly.ioã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ— 5: Gemini API Keyã‚’è¨­å®š

```bash
flyctl secrets set GEMINI_API_KEY="ã‚ãªãŸã®APIã‚­ãƒ¼ã‚’ã“ã“ã«è²¼ã‚Šä»˜ã‘"
```

**ä¾‹**:
```bash
flyctl secrets set GEMINI_API_KEY="AIzaSyC1234567890abcdefghijklmnopqrstuv"
```

ç¢ºèª:
```bash
flyctl secrets list
```

å‡ºåŠ›ä¾‹:
```
NAME              DIGEST                  CREATED AT
GEMINI_API_KEY    8a3c7b...              xxxx-xx-xx
```

---

### ã‚¹ãƒ†ãƒƒãƒ— 6: ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ

```bash
flyctl deploy
```

**æ‰€è¦æ™‚é–“**: ç´„2-3åˆ†

**ãƒ‡ãƒ—ãƒ­ã‚¤ä¸­ã®å‡ºåŠ›ä¾‹**:
```
==> Building image
==> Creating release
==> Deploying
--> v2 deployed successfully
```

---

### ã‚¹ãƒ†ãƒƒãƒ— 7: ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª

```bash
flyctl status
```

**æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›**:
```
App
  Name     = toefltest
  Owner    = personal
  Hostname = toefltest.fly.dev
  ...
  
Machines
ID        STATE   HEALTH  REGION  SIZE
xxxxx     started         nrt     shared-cpu-1x:1GB
```

---

### ã‚¹ãƒ†ãƒƒãƒ— 8: ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª

```bash
flyctl open
```

ã¾ãŸã¯ã€ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹: **https://toefltest.fly.dev/**

---

## âœ… å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:

- [ ] ãƒ›ãƒ¼ãƒ ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆç™½ã„ç”»é¢ã§ã¯ãªã„ï¼‰
- [ ] å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã€ŒReadingã€ã€ŒListeningã€ã€ŒSpeakingã€ã€ŒWritingã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å³å´ã«ãƒˆãƒ”ãƒƒã‚¯é¸æŠãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã€ŒStart Testã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒˆãƒ”ãƒƒã‚¯ã‚’é¸æŠã—ã¦ã€ŒStart Testã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] å•é¡ŒãŒç”Ÿæˆã•ã‚Œã‚‹

ã™ã¹ã¦ãƒã‚§ãƒƒã‚¯ãŒå…¥ã£ãŸã‚‰ã€ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸã§ã™ï¼ğŸ‰

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå¤±æ•—ã™ã‚‹

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª**:
```bash
flyctl logs --no-tail
```

**ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼**:

1. **"no such app"**
   - ã‚¢ãƒ—ãƒªãŒã¾ã ä½œæˆã•ã‚Œã¦ã„ãªã„
   - è§£æ±ºç­–: `flyctl launch --no-deploy` ã‚’å®Ÿè¡Œã—ã¦ã‚¢ãƒ—ãƒªã‚’ä½œæˆ
   
2. **"authentication failed"**
   - ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„
   - è§£æ±ºç­–: `flyctl auth login` ã‚’å†å®Ÿè¡Œ

3. **"build failed"**
   - Dockerãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
   - è§£æ±ºç­–: `flyctl deploy --verbose` ã§è©³ç´°ã‚’ç¢ºèª

### å•é¡Œ2: ã¾ã ç™½ã„ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢**:
```bash
flyctl deploy --no-cache
```

**ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ã‚¯ãƒªã‚¢**:
- Chrome/Edge: Ctrl+Shift+R (Windows) ã¾ãŸã¯ Cmd+Shift+R (Mac)
- Firefox: Ctrl+F5 (Windows) ã¾ãŸã¯ Cmd+Shift+R (Mac)

### å•é¡Œ3: "Start Test"ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ä½•ã‚‚èµ·ããªã„

**API Keyã‚’ç¢ºèª**:
```bash
flyctl secrets list
```

**API Keyã‚’å†è¨­å®š**:
```bash
flyctl secrets set GEMINI_API_KEY="æ–°ã—ã„ã‚­ãƒ¼"
flyctl deploy
```

---

## ğŸ“Š ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³ã®ç¢ºèªã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚¢ãƒ—ãƒªã®çŠ¶æ…‹
flyctl status

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°
flyctl logs

# éå»ã®ãƒ­ã‚°
flyctl logs --no-tail

# ãƒã‚·ãƒ³ã®è©³ç´°
flyctl machine list

# ç’°å¢ƒå¤‰æ•°ï¼ˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆï¼‰
flyctl secrets list
```

---

## ğŸ‰ ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸå¾Œ

ãƒ‡ãƒ—ãƒ­ã‚¤ãŒæˆåŠŸã—ãŸã‚‰ã€ä»¥ä¸‹ã‚’è©¦ã—ã¦ã¿ã¦ãã ã•ã„:

1. **Reading Test**: ãƒˆãƒ”ãƒƒã‚¯ã‚’é¸æŠã—ã¦å•é¡Œã‚’ç”Ÿæˆ
2. **Listening Test**: éŸ³å£°åˆæˆã§ä¼šè©±ãƒ»è¬›ç¾©ã‚’è´ã
3. **Speaking Test**: ãƒã‚¤ã‚¯ã§å›ç­”ã‚’éŒ²éŸ³ã—ã¦AIè©•ä¾¡
4. **Writing Test**: ã‚¨ãƒƒã‚»ã‚¤ã‚’æ›¸ã„ã¦AIæ¡ç‚¹
5. **Performance History**: å­¦ç¿’å±¥æ­´ã¨AIåˆ†æ

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆ:

1. **ãƒ­ã‚°ã‚’ç¢ºèª**: `flyctl logs --no-tail`
2. **GitHubã§Issueä½œæˆ**: å•é¡Œã®è©³ç´°ã¨ãƒ­ã‚°ã‚’å…±æœ‰
3. **Fly.ioã‚µãƒãƒ¼ãƒˆ**: https://fly.io/docs/about/support/

---

## ğŸ”„ æ›´æ–°ã™ã‚‹å ´åˆ

ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸå¾Œ:

```bash
git pull origin main    # æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
flyctl deploy          # å†ãƒ‡ãƒ—ãƒ­ã‚¤
```

---

**Good luck! ğŸš€**

ã‚ãªãŸã®TOEFLå­¦ç¿’ã‚¢ãƒ—ãƒªãŒä¸–ç•Œä¸­ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼

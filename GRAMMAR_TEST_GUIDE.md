# 📚 文法特訓の使い方ガイド

## 🎯 文法特訓を開始する手順

### ステップ1: 文法特訓ボタンをクリック

トップページのサイドバー（左側）にある **「文法特訓」** ボタンをクリックします。

```
📍 場所: サイドバーの「Tools」セクション
🎨 色: 緑色（teal）のボタン
🔤 アイコン: 言語アイコン (fa-language)
```

---

### ステップ2: 難易度を選択

画面中央に3つの難易度選択肢が表示されます。いずれか1つを選択してください：

#### 📗 初級 (Beginner)
- **対象教材**: Essential Grammar in Use (Cambridge)
- **内容**: 基礎文法
- **トピック例**:
  - be動詞 (am/is/are/was/were)
  - 現在形・過去形
  - have/has
  - can/could
  - 単数形・複数形
  - 冠詞 (a/an/the)
  - 前置詞 (in/on/at)
  - some/any
  - There is/There are

---

#### 📘 中級 (Intermediate)
- **対象教材**: English Grammar in Use (Cambridge)
- **内容**: 中級文法
- **トピック例**:
  - 現在完了形
  - 過去完了形
  - 未来形 (will/going to)
  - 受動態
  - 関係代名詞 (who/which/that)
  - 条件文 (If clauses)
  - 不定詞 vs 動名詞
  - 比較級・最上級
  - 仮定法過去
  - 助動詞 (must/should/might)

---

#### 📕 上級 (Advanced)
- **対象教材**: Advanced Grammar in Use (Cambridge)
- **内容**: 高度な文法事項
- **トピック例**:
  - 完了進行形
  - 分詞構文
  - 仮定法過去完了
  - 関係副詞 (where/when/why)
  - 強調構文 (It is...that)
  - 倒置
  - 省略
  - wish/if only
  - 間接話法
  - 複雑な時制の一致

---

### ステップ3: Startボタンをクリック

難易度を選択したら、画面下部の **「Start」** ボタンをクリックします。

⚠️ **重要**: 難易度を選択しないと、Startボタンは無効（グレーアウト）になります。

---

### ステップ4: 問題生成を待つ

- AIが10問の文法問題を生成します
- 生成には **約5〜15秒** かかります
- 「Loading...」の表示が出ます

---

### ステップ5: 問題に回答

問題が表示されたら：

1. **問題文を読む**: 空欄に入る適切な文法形式を選ぶ
2. **4つの選択肢から選択**: A、B、C、Dのいずれかをクリック
3. **次の問題へ**: 「Next」ボタンで進む
4. **結果確認**: 全10問回答後、結果画面が表示される

---

## ❓ よくある質問

### Q1: 「Failed to generate grammar test」エラーが出る

**原因**:
- API Keyの問題
- 一時的なネットワーク問題
- Gemini APIのレート制限

**解決方法**:
1. ブラウザを **ハードリフレッシュ**: `Ctrl + Shift + R` (Windows) / `Cmd + Shift + R` (Mac)
2. 数分待ってから再試行
3. ブラウザのコンソール（F12 → Console）でエラー詳細を確認

---

### Q2: Startボタンが押せない（グレーアウト）

**原因**: 難易度が選択されていない

**解決方法**:
- 初級、中級、上級のいずれか1つをクリックしてください
- 選択されたボタンには ✅ チェックマークが表示されます

---

### Q3: 問題生成が遅い

**原因**: AIが10問の高品質な問題を生成しているため

**目安時間**:
- 通常: 5〜10秒
- 混雑時: 10〜15秒
- 最大: 20秒程度

**対処法**:
- 画面を閉じずに待つ
- 「Loading...」表示が出ている間は生成中です

---

### Q4: 問題の解説が日本語で表示される

これは **正常な動作** です。

- 問題文: 英語
- 選択肢: 英語
- 解説: 日本語（理解しやすいため）
- 例文: 英語

---

## 📊 テスト結果の見方

テスト完了後、以下が表示されます：

### スコア情報
- **正解数**: 10問中の正解数
- **正答率**: パーセンテージ
- **レベル**: 選択した難易度

### 問題ごとの詳細
- ✅ 正解した問題: 緑色
- ❌ 不正解の問題: 赤色
- 💡 解説: 各問題の詳しい説明
- 📝 例文: 正しい使い方の例

### アクション
- **Retry**: 同じレベルで再挑戦
- **Home**: トップページに戻る

---

## 🎓 学習のコツ

### 初心者向け
1. まず **初級** から始める
2. 間違えた問題の解説をしっかり読む
3. 例文を声に出して読む
4. 正答率80%以上になったら中級へ

### 中級者向け
1. **中級** で安定して70%以上取れるまで繰り返す
2. 間違えた文法項目をメモする
3. Cambridge教材を参考に復習
4. 実際の文章でその文法を探す

### 上級者向け
1. **上級** で細かいニュアンスの違いを学ぶ
2. 解説の「なぜ間違いか」を理解する
3. 実際の英文（ニュース、論文など）で確認
4. 自分で例文を作成してみる

---

## 🔄 繰り返し学習のススメ

文法は **反復練習** が重要です：

1. **毎日10分**: 1セット（10問）を毎日解く
2. **弱点克服**: 間違えた文法項目を重点的に
3. **レベルアップ**: 正答率80%以上で次のレベルへ
4. **定期的な復習**: 週1回は全レベルを復習

---

## 📚 参考教材

### Cambridge Grammar シリーズ

このアプリの問題は、以下の教材に基づいています：

1. **Essential Grammar in Use** (初級)
   - 著者: Raymond Murphy
   - 出版社: Cambridge University Press
   - 対象: TOEFL 40-60点

2. **English Grammar in Use** (中級)
   - 著者: Raymond Murphy
   - 出版社: Cambridge University Press
   - 対象: TOEFL 60-85点

3. **Advanced Grammar in Use** (上級)
   - 著者: Martin Hewings
   - 出版社: Cambridge University Press
   - 対象: TOEFL 85点以上

---

## 🎯 TOEFL対策としての文法特訓

### なぜ文法が重要？

TOEFL iBTでは、文法は以下のセクションで評価されます：

- **Writing**: 文法の正確さが採点基準
- **Speaking**: 文法エラーが流暢性に影響
- **Reading**: 複雑な文構造の理解に必要
- **Listening**: 正確な理解のための基礎

### 目標スコア別の推奨レベル

| 目標スコア | 推奨レベル | 目標正答率 |
|----------|----------|----------|
| 60点以下 | 初級 | 80%以上 |
| 60-80点 | 中級 | 75%以上 |
| 80-100点 | 上級 | 70%以上 |
| 100点以上 | 上級 | 85%以上 |

---

**Happy Learning! 📚✨**

文法をマスターして、TOEFLスコアアップを目指しましょう！
